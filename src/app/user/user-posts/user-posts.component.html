<div *ngIf="isUserPostsLoaded">
  <div style="text-align: right">
    <button mat-flat-button color="primary" routerLink="/profile/add">Add Post</button>
  </div>

  <h2>{{posts.length}} Posts</h2>

  <mat-card class="post-card shadow" *ngFor="let post of posts; let i = index">
    <mat-card-header style="text-align: left">
      <div mat-card-avatar class="example-header-image"></div>
      <mat-card-title>{{post.title}}</mat-card-title>
      <mat-card-subtitle>{{post.location}}</mat-card-subtitle>
    </mat-card-header>

    <img mat-card-image [src]="formatImage(post.image)" alt="post image">

    <mat-card-content>
      <p class="content">{{post.caption}}</p>
    </mat-card-content>

    <mat-divider class="divider"></mat-divider>

    <div style="text-align: left">
      <mat-card-subtitle class="subtitle">Comment:</mat-card-subtitle>
      <p class="comment" *ngFor="let comment of post.comments; let c = index"><span
          style="font-weight: 500">{{comment.username}}</span>: {{comment.message}}

        <button color="warn" mat-button (click)="deleteComment(comment.id!, i, c)">
          <mat-icon color="warn">
            cancel</mat-icon>
        </button>
      </p>
    </div>

    <mat-card-actions align="end">
      <button color="warn" mat-button (click)="deletePost(post, i)">
        <mat-icon color="warn">delete</mat-icon>
        Remove Post
      </button>
    </mat-card-actions>

    <mat-divider class="divider"></mat-divider>

    <mat-card-subtitle class="subtitleDown">Likes: {{post.likes}} <span *ngIf="post.likes! > 0">by
        {{post.usersLiked}}</span></mat-card-subtitle>
  </mat-card>
</div>